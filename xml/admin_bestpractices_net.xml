<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="storage-bp-net">
 <title>Networking</title>
 <para/>
 <sect1 xml:id="storage-bp-net-ntp">
  <title>Setting NTP to a &ceph; Cluster</title>

  <para>
   In a cluster environment, it is necessary to keep all cluster nodes' time
   synchronized. NTP&mdash;Network Time Protocol&mdash;is a network service
   commonly used for this purpose. NTP is well integrated in &suse; products,
   including &productname; &productnumber;. There are two ways to configure NTP&mdash;either using
   &yast;, or setting it up manually. Find both methods described&mdash;and
   more information on NTP in general&mdash;in
   <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html">&sls;
   Administration Guide</link>.
  </para>
 </sect1>
 <sect1 xml:id="storage-bp-net-firewall">
  <title>Firewall Settings for &ceph;</title>

  <para>
   We recommend protecting the network cluster communication with SUSE
   Firewall. You can edit its configuration by selecting
   <menuchoice><guimenu>&yast;</guimenu><guimenu>Security and
   Users</guimenu><guimenu>Firewall</guimenu><guimenu>Allowed
   Services</guimenu></menuchoice>.
  </para>
  <itemizedlist>
   <listitem>
    <para>
     For Calamari, enable the "HTTP Server", "Carbon" and "SaltStack" services
     (ports 80, 2003, 2004, 4505 and 4506).
    </para>
   </listitem>
   <listitem>
    <para>
     For &ceph; monitor nodes, enable the "Ceph MON" service (port 6789).
    </para>
   </listitem>
   <listitem>
    <para>
     For &ceph; OSD (or MDS) nodes, enable the "Ceph OSD/MDS" service (ports
     6800-7300).
    </para>
   </listitem>
   <listitem>
    <para>
     For &igw;, open port 3260.
    </para>
   </listitem>
   <listitem>
    <para>
     For &rgw;, open the port where &rgw; communication occurs. It is set in
     <filename>/etc/ceph.conf</filename> on the line starting with
     <literal>rgw frontends =</literal>. Default is 80.
    </para>
   </listitem>
   <listitem>
    <para>
     For &ganesha;, open ports 2049 (NFS service) and 875 (Rquota support).
    </para>
   </listitem>
  </itemizedlist>

 </sect1>
</chapter>
